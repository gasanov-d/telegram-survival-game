<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Survival Phaser</title>
<script src="https://cdn.jsdelivr.net/npm/phaser@3/dist/phaser.min.js"></script>
<style>
html,body{margin:0;padding:0;background:#000}
</style>
</head>
<body>

<script>
const config = {
  type: Phaser.AUTO,
  width: window.innerWidth,
  height: window.innerHeight,
  physics: {
    default: "arcade",
    arcade: { gravity: { y: 0 }, debug: false }
  },
  scene: { preload, create, update }
};

const game = new Phaser.Game(config);

let player, cursors;

function preload() {
  this.load.image("player","https://labs.phaser.io/assets/sprites/phaser-dude.png");
  this.load.image("tile","https://labs.phaser.io/assets/tilemaps/tiles/grass-tiles-2-small.png");
}

function create() {
  // МИР
  const worldWidth = 3000;
  const worldHeight = 3000;
  this.physics.world.setBounds(0,0,worldWidth,worldHeight);

  // ФОН (ландшафт)
  for(let x=0;x<worldWidth;x+=64){
    for(let y=0;y<worldHeight;y+=64){
      this.add.image(x,y,"tile").setOrigin(0);
    }
  }

  // ИГРОК
  player = this.physics.add.sprite(1500,1500,"player");
  player.setScale(0.7);
  player.setCollideWorldBounds(true);

  // КАМЕРА
  this.cameras.main.startFollow(player);
  this.cameras.main.setBounds(0,0,worldWidth,worldHeight);

  // УПРАВЛЕНИЕ
  cursors = this.input.keyboard.createCursorKeys();
}

function update() {
  const speed = 250;
  player.setVelocity(0);

  if (cursors.left.isDown) player.setVelocityX(-speed);
  if (cursors.right.isDown) player.setVelocityX(speed);
  if (cursors.up.isDown) player.setVelocityY(-speed);
  if (cursors.down.isDown) player.setVelocityY(speed);
}
</script>

</body>
</html>
