<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Island Survival</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: #0f172a;
  color: #fff;
  font-family: Arial, sans-serif;
  overflow: hidden;
}

#app {
  width: 100vw;
  height: 100vh;
  position: relative;
}

/* ===== GAME FIELD ===== */
#world {
  width: 100%;
  height: 100%;
  background: #1e7f3f;
  position: relative;
}

/* Player */
#player {
  width: 32px;
  height: 32px;
  background: #facc15;
  border-radius: 6px;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}

/* ===== HUD ===== */
#hud {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  padding: 8px;
  background: rgba(0,0,0,0.6);
  display: flex;
  justify-content: space-between;
  font-size: 14px;
}

/* ===== CONTROLS ===== */
#controls {
  position: absolute;
  bottom: 10px;
  left: 10px;
}

.btn {
  background: #2563eb;
  padding: 10px 14px;
  margin-bottom: 8px;
  border-radius: 8px;
  text-align: center;
  user-select: none;
}

/* ===== BUILD MENU ===== */
#buildMenu {
  position: absolute;
  bottom: 10px;
  right: 10px;
  background: rgba(0,0,0,0.7);
  padding: 10px;
  border-radius: 10px;
  display: none;
}
</style>
</head>

<body>
<div id="app">

  <div id="world">
    <div id="player"></div>
  </div>

  <div id="hud">
    <div>‚ù§Ô∏è <span id="hp">100</span></div>
    <div>‚ö° <span id="energy">100</span></div>
    <div>ü™µ <span id="wood">0</span></div>
  </div>

  <div id="controls">
    <div class="btn" onclick="gatherWood()">üå≤ –°–æ–±—Ä–∞—Ç—å –¥–µ—Ä–µ–≤–æ</div>
    <div class="btn" onclick="toggleBuild()">üè† –°—Ç—Ä–æ–∏—Ç—å</div>
  </div>

  <div id="buildMenu">
    <div class="btn" onclick="buildFire()">üî• –ö–æ—Å—Ç—ë—Ä (5 ü™µ)</div>
  </div>

</div>

<script>
const tg = window.Telegram.WebApp;
tg.ready();
tg.expand();

let state = {
  hp: 100,
  energy: 100,
  wood: 0,
  fire: false
};

function updateUI() {
  hp.textContent = state.hp;
  energy.textContent = state.energy;
  wood.textContent = state.wood;
}

function gatherWood() {
  if (state.energy <= 0) return;
  state.wood += 1;
  state.energy -= 5;
  updateUI();
}

function toggleBuild() {
  buildMenu.style.display =
    buildMenu.style.display === "none" ? "block" : "none";
}

function buildFire() {
  if (state.fire) return;
  if (state.wood < 5) return;
  state.wood -= 5;
  state.fire = true;

  const fire = document.createElement("div");
  fire.style.width = "30px";
  fire.style.height = "30px";
  fire.style.background = "orange";
  fire.style.position = "absolute";
  fire.style.left = "55%";
  fire.style.top = "55%";
  fire.style.borderRadius = "50%";
  world.appendChild(fire);

  updateUI();
}

updateUI();
</script>
</body>
</html>
